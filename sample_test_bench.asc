Version 4
SHEET 1 3284 784
WIRE 720 -208 640 -208
WIRE 1024 -208 720 -208
WIRE 1360 -208 1024 -208
WIRE 720 -192 720 -208
WIRE 640 -80 640 -208
WIRE 720 -80 720 -112
WIRE 192 64 144 64
WIRE 336 64 272 64
WIRE 560 64 400 64
WIRE 944 64 832 64
WIRE 1088 64 1008 64
WIRE 1120 64 1088 64
WIRE 144 112 144 64
WIRE 144 160 144 112
WIRE 1120 160 1120 64
WIRE 1360 160 1360 -208
WIRE 144 320 144 240
WIRE 160 320 144 320
WIRE 640 320 640 208
WIRE 640 320 160 320
WIRE 1120 320 1120 240
WIRE 1120 320 640 320
WIRE 1360 320 1360 240
WIRE 1360 320 1120 320
WIRE 160 352 160 320
FLAG 160 352 0
FLAG 1088 64 OUT
FLAG 1024 -208 VDD
FLAG 144 112 IN
SYMBOL voltage 144 144 R0
WINDOW 123 24 124 Left 2
WINDOW 3 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR Value SINE(0 {vsig} {fsig})
SYMATTR InstName V1
SYMBOL res 176 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rs
SYMATTR Value 100
SYMBOL cap 944 80 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName Co
SYMATTR Value 220µ
SYMBOL res 1104 144 R0
SYMATTR InstName RL
SYMATTR Value 600
SYMBOL voltage 1360 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VDD
SYMATTR Value {VDD}
SYMBOL current 720 -192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value {IREF}
SYMBOL cap 336 80 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName Ci
SYMATTR Value 220µ
SYMBOL cm_amp 688 64 R0
SYMATTR InstName X2
TEXT -352 320 Left 2 !.ac dec 100 1 1Meg
TEXT -352 496 Left 2 !.four {fsig} V(OUT)
TEXT -360 40 Left 2 !.param IREF=0.1m
TEXT -360 -24 Left 2 ;Parameter Settings
TEXT -352 232 Left 2 ;Simulation Settings
TEXT -360 -128 Left 2 ;Model Libraries
TEXT -360 -200 Left 2 ;Ex. Headphone amp test bench
TEXT -352 528 Left 2 !.options plotwinsize=10
TEXT -360 -96 Left 2 !.lib ptm180mod_ttt.lib
TEXT -360 8 Left 2 !.param VDD=1.8
TEXT -352 264 Left 2 !.temp 25
TEXT -352 656 Left 2 !.meas TRAN Pamp AVG V(VDD)*Ix(x1:VDD) FROM 1/{fsig} TO 2/{fsig}
TEXT -360 72 Left 2 !.param vsig=70m
TEXT -360 104 Left 2 !.param fsig=440
TEXT -352 688 Left 2 !.meas TRAN Pload AVG V(out)*I(RL) FROM 1/{fsig} TO 2/{fsig}
TEXT -352 560 Left 2 !.meas AC GainMax MAX V(OUT) FROM 20 TO 20k
TEXT -352 592 Left 2 !.meas AC GainMin MIN V(OUT) FROM 20 TO 20k
TEXT -352 384 Left 2 !;tran 10m
TEXT -352 352 Left 2 !;noise V(OUT) V1 dec 100 1 1Meg
TEXT -352 624 Left 2 !.meas NOISE VinrefNoise INTEG V(inoise) FROM 20 TO 20k
TEXT -352 464 Left 2 !.four {fsig} V(IN)
